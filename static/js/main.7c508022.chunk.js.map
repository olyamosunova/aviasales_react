{"version":3,"sources":["reducer/name-space.js","reducer/data/selectors.js","utils.js","const.js","reducer/data/data.js","components/Checkbox/Checkbox.js","components/FilterTransfer/FilterTransfer.js","components/FilterSort/FilterSort.js","components/TransferItem/TransferItem.js","components/TransferList/TransferList.js","components/FilterResultItem/FilterResultItem.js","components/Loader/2.svg","components/Loader/Loader.js","components/FilterResultList/FilterResultList.js","components/FilterResult/FilterResult.js","components/Filter/Filter.js","components/Main/Main.js","logo.svg","components/App/App.js","reducer/reducer.js","index.js","api/api.js"],"names":["NameSpace","DATA","getTickets","state","tickets","getActiveFilter","activeFilterType","getFilteredTickets","filteredTickets","getActiveSortType","activeSortType","extend","a","b","Object","assign","formatDuration","duration","hours","Math","trunc","minutes","loadTickets","api","dispatch","id","get","then","response","data","ActionCreator","finishLoading","stop","catch","catchError","TRANSFER_FILTER_TITLES","ALL","title","value","checked","count","NOT_TRANSFER","ONE_TRANSFER","TWO_TRANSFER","THREE_TRANSFER","SORT_TYPE","initialState","isLoading","isError","errorFilterMessage","ActionType","type","payload","clearError","length","filter","ticket","includes","segments","stops","changeFilterType","changeSortType","setTicketsBySort","sortType","Operations","getState","searchId","connect","changeFilter","setFilteredTickets","filterType","item","className","name","defaultChecked","onChange","evt","target","push","handlerChangeFilter","htmlFor","FilterTransfer","keys","map","changeActiveSortType","handlerChangeSortType","onClick","classNames","TransferItem","segment","origin","destination","date","timeEnd","Date","setMinutes","getMinutes","moment","format","join","TransferList","index","FilterResultItem","price","carrier","String","replace","src","alt","Loader","preloader","ticketsList","splice","sort","FilterResult","Filter","Main","App","logo","combineReducers","action","axios","create","baseURL","timeout","interceptors","use","err","createAPI","store","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.7c508022.chunk.js","sourcesContent":["const NameSpace = {\r\n    DATA: `DATA`,\r\n};\r\n\r\nexport default NameSpace;","import NameSpace from \"../name-space\";\r\n\r\nexport const getId = (state) => state[NameSpace.DATA].id;\r\nexport const getTickets = (state) => state[NameSpace.DATA].tickets;\r\nexport const getActiveFilter = (state) => state[NameSpace.DATA].activeFilterType;\r\nexport const getFilteredTickets = (state) => state[NameSpace.DATA].filteredTickets;\r\nexport const getActiveSortType = (state) => state[NameSpace.DATA].activeSortType;\r\n","import {ActionCreator} from \"./reducer/data/data\";\r\n\r\nexport const extend = (a, b) => {\r\n    return Object.assign({}, a, b);\r\n};\r\n\r\nexport const formatDuration = (duration) => {\r\n    const hours = Math.trunc(duration / 60);\r\n    const minutes = duration % 60;\r\n    return `${hours}ч ${minutes}м`;\r\n};\r\n\r\nexport const loadTickets = (api, dispatch, id) => {\r\n    return api.get(`/tickets?searchId=${id}`)\r\n        .then((response) => {\r\n            let tickets = response.data.tickets;\r\n\r\n            dispatch(ActionCreator.loadTickets(tickets));\r\n            dispatch(ActionCreator.finishLoading());\r\n\r\n            if (!response.data.stop) {\r\n                loadTickets(api, dispatch, id);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            dispatch(ActionCreator.catchError());\r\n        });\r\n};\r\n","export const TRANSFER_FILTER_TITLES = {\r\n    ALL: {\r\n        title: 'Все',\r\n        value: `all-transfer`,\r\n        checked: true,\r\n        count: `all`\r\n    },\r\n    NOT_TRANSFER: {\r\n        title: 'Без пересадок',\r\n        value: `not-transfer`,\r\n        count: 0\r\n    },\r\n    ONE_TRANSFER: {\r\n        title: '1 пересадка',\r\n        value: `one-transfer`,\r\n        count: 1\r\n    },\r\n    TWO_TRANSFER: {\r\n        title: '2 пересадки',\r\n        value: `two-transfer`,\r\n        count: 2\r\n    },\r\n    THREE_TRANSFER: {\r\n        title: '3 пересадки',\r\n        value: `three-transfer`,\r\n        count: 3\r\n    },\r\n};\r\n\r\nexport const SORT_TYPE = {\r\n    CHEAPER: `cheaper`,\r\n    FASTER: `faster`\r\n};\r\n","import {extend} from \"../../utils\";\r\nimport {TRANSFER_FILTER_TITLES, SORT_TYPE} from \"../../const\";\r\nimport {loadTickets} from \"../../utils\";\r\n\r\nconst initialState = {\r\n    tickets: [],\r\n    filteredTickets: null,\r\n    isLoading: true,\r\n    isError: false,\r\n    activeFilterType: [TRANSFER_FILTER_TITLES.ALL.count],\r\n    errorFilterMessage: '',\r\n    activeSortType: SORT_TYPE.CHEAPER\r\n};\r\n\r\nconst ActionType = {\r\n    LOAD_TICKETS: `LOAD_TICKETS`,\r\n    FINISH_LOADING: `FINISH_LOADING`,\r\n    CATCH_ERROR: `CATCH_ERROR`,\r\n    CLEAR_ERROR: `CLEAR_SENDING_ERROR`,\r\n    FILTERED_TICKETS: `FILTERED_TICKETS`,\r\n    CHANGE_FILTER_TYPE: `CHANGE_FILTER_TYPE`,\r\n    CHANGE_SORT_TYPE: `CHANGE_SORT_TYPE`,\r\n    SET_TICKETS_BY_SORT: `SET_TICKETS_BY_SORT`\r\n};\r\n\r\nconst ActionCreator = {\r\n    loadTickets: (tickets) => {\r\n        return {\r\n            type: ActionType.LOAD_TICKETS,\r\n            payload: tickets,\r\n        };\r\n    },\r\n    finishLoading: () => {\r\n        return {\r\n            type: ActionType.FINISH_LOADING,\r\n            payload: false,\r\n        }\r\n    },\r\n    catchError: () => {\r\n        return {\r\n            type: ActionType.CATCH_ERROR,\r\n            payload: true,\r\n        }\r\n    },\r\n    clearError: () => {\r\n        return {\r\n            type: ActionType.CLEAR_ERROR,\r\n            payload: false,\r\n        }\r\n    },\r\n    filteredTickets: (tickets, activeFilterType) => {\r\n\r\n        let filteredTickets = [];\r\n\r\n        if (!activeFilterType.length) {\r\n            filteredTickets = [];\r\n        }\r\n\r\n        filteredTickets = tickets.filter(ticket => {\r\n            if (activeFilterType.includes(TRANSFER_FILTER_TITLES.ALL.count)) {\r\n                return ticket;\r\n            }\r\n\r\n            if (activeFilterType.includes(ticket.segments[0].stops.length) && activeFilterType.includes(ticket.segments[1].stops.length)) {\r\n                return ticket;\r\n            }\r\n        });\r\n\r\n        return {\r\n            type: ActionType.FILTERED_TICKETS,\r\n            payload: filteredTickets,\r\n        };\r\n    },\r\n    changeFilterType: (activeFilterType) => {\r\n        return {\r\n            type: ActionType.CHANGE_FILTER_TYPE,\r\n            payload: activeFilterType,\r\n        };\r\n    },\r\n    changeSortType: (activeSortType) => {\r\n        return {\r\n            type: ActionType.CHANGE_SORT_TYPE,\r\n            payload: activeSortType,\r\n        };\r\n    },\r\n    setTicketsBySort: (tickets, sortType) => {\r\n        const sortTickets = tickets;\r\n\r\n        return {\r\n            type: ActionType.SET_TICKETS_BY_SORT,\r\n            payload: sortTickets,\r\n        };\r\n    }\r\n\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ActionType.LOAD_TICKETS:\r\n            const tickets = [...state.tickets, ...action.payload];\r\n\r\n            return extend(state, {\r\n                tickets: tickets,\r\n            });\r\n        case ActionType.FINISH_LOADING:\r\n            return extend(state, {\r\n                isLoading: action.payload,\r\n            });\r\n        case ActionType.CATCH_ERROR:\r\n            return extend(state, {\r\n                isError: action.payload,\r\n            });\r\n        case ActionType.CLEAR_ERROR:\r\n            return extend(state, {\r\n                isError: action.payload,\r\n            });\r\n\r\n        case ActionType.FILTERED_TICKETS:\r\n            return extend(state, {\r\n                filteredTickets: action.payload,\r\n            });\r\n\r\n        case ActionType.CHANGE_FILTER_TYPE:\r\n            return extend(state, {\r\n                activeFilterType: action.payload,\r\n            });\r\n\r\n        case ActionType.CHANGE_SORT_TYPE:\r\n            return extend(state, {\r\n                activeSortType: action.payload,\r\n            });\r\n\r\n        case ActionType.SET_TICKETS_BY_SORT:\r\n            return extend(state, {\r\n                tickets: action.payload,\r\n            });\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst Operations = {\r\n    loadTickets: () => (dispatch, getState, api) => {\r\n        return api.get(`/search`)\r\n            .then((response) => {\r\n                const id = response.data.searchId;\r\n                loadTickets(api, dispatch, id);\r\n            })\r\n            .catch(() => {\r\n                dispatch(ActionCreator.catchError());\r\n            });\r\n    }\r\n};\r\n\r\n\r\nexport {reducer, ActionType, ActionCreator, Operations, initialState};\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getActiveFilter, getTickets} from \"../../reducer/data/selectors\";\r\nimport {ActionCreator} from \"../../reducer/data/data\";\r\n\r\nfunction Checkbox({tickets, item, activeFilterType, changeFilter, setFilteredTickets}) {\r\n\r\n    const handlerChangeFilter = (evt, filter) => {\r\n        if (evt.target.checked) {\r\n            if (!activeFilterType.includes(filter)) {\r\n                activeFilterType.push(filter)\r\n            }\r\n        } else {\r\n            if (activeFilterType.includes(filter)) {\r\n                activeFilterType = activeFilterType.filter(item => item !== filter);\r\n            }\r\n        }\r\n\r\n        changeFilter(activeFilterType);\r\n        setFilteredTickets(tickets, activeFilterType);\r\n    };\r\n\r\n    return (\r\n        <div className=\"transfer__checkbox checkbox\">\r\n            <input id={item.value} className=\"checkbox__input\" name=\"count-transfer\" type=\"checkbox\"\r\n                   value={item.value} defaultChecked={item.checked} onChange={(evt) => handlerChangeFilter(evt, item.count)}/>\r\n            <label htmlFor={item.value} className=\"checkbox__label\">{item.title}</label>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    tickets: getTickets(state),\r\n    activeFilterType: getActiveFilter(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    changeFilter(activeFilterType) {\r\n        dispatch(ActionCreator.changeFilterType(activeFilterType));\r\n    },\r\n    setFilteredTickets(tickets, filterType) {\r\n        dispatch(ActionCreator.filteredTickets(tickets, filterType));\r\n    }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkbox);\r\n","import React from 'react';\r\nimport './transfer.css';\r\nimport './checkbox.css';\r\nimport Checkbox from \"../Checkbox/Checkbox\";\r\nimport {TRANSFER_FILTER_TITLES} from \"../../const\";\r\n\r\nfunction FilterTransfer() {\r\n    return (\r\n        <div className=\"filter__transfer transfer\">\r\n            <p className=\"transfer__title\">Количество пересадок</p>\r\n\r\n            <form className=\"transfer__form\">\r\n                {Object.keys(TRANSFER_FILTER_TITLES).map(item => <Checkbox item={TRANSFER_FILTER_TITLES[item]} key={TRANSFER_FILTER_TITLES[item].title} />)}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FilterTransfer;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport {SORT_TYPE} from \"../../const\";\r\nimport {connect} from 'react-redux';\r\nimport {getActiveSortType} from \"../../reducer/data/selectors\";\r\nimport {ActionCreator} from \"../../reducer/data/data\";\r\n\r\nfunction FilterSort({activeSortType, changeActiveSortType}) {\r\n    const handlerChangeSortType = (type) => {\r\n        changeActiveSortType(type);\r\n    };\r\n\r\n    return (\r\n        <div className=\"filter__sort\">\r\n            <button onClick={() => handlerChangeSortType(SORT_TYPE.CHEAPER)} className={classNames({'filter__sort-button': true, 'filter__sort-button--active': activeSortType === SORT_TYPE.CHEAPER})} type=\"button\">Самый дешевый</button>\r\n            <button onClick={() => handlerChangeSortType(SORT_TYPE.FASTER)} className={classNames({'filter__sort-button': true, 'filter__sort-button--active': activeSortType === SORT_TYPE.FASTER})} type=\"button\">Самый быстрый</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    activeSortType: getActiveSortType(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    changeActiveSortType: (type) => dispatch(ActionCreator.changeSortType(type))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterSort);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {formatDuration} from \"../../utils\";\r\n\r\nfunction TransferItem({segment}) {\r\n    const {origin, destination, date, stops, duration} = segment;\r\n\r\n    let timeEnd = new Date(date);\r\n    timeEnd.setMinutes(timeEnd.getMinutes() + duration);\r\n\r\n    return (\r\n        <li className=\"tickets__transfers-item\">\r\n            <div className=\"tickets__transfers-fields\">\r\n                <span className=\"tickets__transfers-field\">{origin} – {destination}</span>\r\n                <span className=\"tickets__transfers-field\">{moment(new Date(date)).format('hh:mm')} – {moment(new Date(timeEnd)).format('hh:mm')}</span>\r\n            </div>\r\n            <div className=\"tickets__transfers-fields\">\r\n                <span className=\"tickets__transfers-field\">В пути</span>\r\n                <span className=\"tickets__transfers-field\">{formatDuration(duration)}</span>\r\n            </div>\r\n            <div className=\"tickets__transfers-fields\">\r\n\r\n                <span className=\"tickets__transfers-field\">{stops.length ? `${stops.length} пересадки` : 'Без пересадок'}</span>\r\n\r\n                {stops.length ? <span className=\"tickets__transfers-field\">{stops.join(', ')}</span> : ''}\r\n\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default TransferItem;\r\n","import React from \"react\";\r\nimport TransferItem from \"../TransferItem/TransferItem\";\r\n\r\nfunction TransferList({segments}) {\r\n    return (\r\n        <ul className=\"tickets__transfers\">\r\n            {segments.map((segment, index) => (\r\n                <TransferItem segment={segment} key={index} />\r\n            ))}\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default TransferList;\r\n","import React from \"react\";\r\nimport TransferList from \"../TransferList/TransferList\";\r\n\r\nfunction FilterResultItem({ticket}) {\r\n    const {price, carrier, segments} = ticket;\r\n    return (\r\n        <li className=\"tickets__item\">\r\n            <div className=\"tickets__link\">\r\n                <div className=\"tickets__item-header\">\r\n                    <span className=\"tickets__item-cost\">{String(price).replace(/(\\d)(?=(\\d{3})+([^\\d]|$))/g, \"$1 \")} Р </span>\r\n\r\n                    <img className=\"tickets__item-carrier\" src={`https://pics.avs.io/99/36/${carrier}.png`} alt={carrier} />\r\n                </div>\r\n\r\n                <TransferList segments={segments} />\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default FilterResultItem;\r\n","export default __webpack_public_path__ + \"static/media/2.d7d45923.svg\";","import React from \"react\";\r\nimport \"./loader.css\";\r\nimport preloader from \"./2.svg\";\r\n\r\nconst Loader = () => {\r\n    return <div className=\"loader\"><img src={preloader} alt=\"preloader\" /></div>;\r\n};\r\n\r\nexport default Loader;\r\n","import React, {Fragment} from \"react\";\r\nimport './tickets.css';\r\nimport {connect} from \"react-redux\";\r\nimport FilterResultItem from \"../FilterResultItem/FilterResultItem\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport {getActiveSortType, getFilteredTickets, getTickets} from \"../../reducer/data/selectors\";\r\nimport {SORT_TYPE} from \"../../const\";\r\n\r\nfunction FilterResultList({tickets, filteredTickets, activeSortType}) {\r\n    let ticketsList = filteredTickets ? filteredTickets.splice(0, 5) : tickets.splice(0, 5);\r\n\r\n    if (activeSortType === SORT_TYPE.CHEAPER) {\r\n        ticketsList = ticketsList.sort(function(a, b) {\r\n            return a.price - b.price;\r\n        });\r\n    } else {\r\n        ticketsList = ticketsList.sort(function(a, b) {\r\n            return (a.segments[0].duration + a.segments[1].duration) - (b.segments[0].duration + b.segments[1].duration);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {tickets.length ?\r\n                    filteredTickets && filteredTickets.length === 0 ?\r\n                        <p>По вашему запросу ничего не найдено</p> :\r\n\r\n                        <ul className=\"filter__result-list tickets\">\r\n                            {filteredTickets ? ticketsList.map((ticket, index) => (\r\n                                <FilterResultItem ticket={ticket} key={index}/>\r\n                            )) : ticketsList.map((ticket, index) => (\r\n                                <FilterResultItem ticket={ticket} key={index}/>\r\n                            ))}\r\n                        </ul>\r\n\r\n                :\r\n                <Loader/>\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        tickets: getTickets(state),\r\n        filteredTickets: getFilteredTickets(state),\r\n        activeSortType: getActiveSortType(state)\r\n    };\r\n};\r\n\r\nexport {FilterResultList};\r\nexport default connect(mapStateToProps)(FilterResultList);\r\n","import React from 'react';\r\nimport FilterSort from \"../FilterSort/FilterSort\";\r\nimport FilterResultList from \"../FilterResultList/FilterResultList\";\r\n\r\nfunction FilterResult() {\r\n    return (\r\n        <div className=\"filter__result\">\r\n            <FilterSort />\r\n            <FilterResultList />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FilterResult;\r\n","import React from 'react';\r\nimport './filter.css';\r\n\r\nimport FilterTransfer from \"../FilterTransfer/FilterTransfer\";\r\nimport FilterResult from \"../FilterResult/FilterResult\";\r\n\r\nfunction Filter() {\r\n    return (\r\n        <section className=\"filter\">\r\n            <FilterTransfer />\r\n            <FilterResult />\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport Filter from \"../Filter/Filter\";\r\n\r\nfunction Main() {\r\n    return (\r\n        <main className=\"page-main\">\r\n            <Filter />\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/logo.8bb77c6b.svg\";","import React from \"react\";\nimport Main from \"../Main/Main\";\nimport logo from \"../../logo.svg\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <div className=\"container\">\n                <header className=\"page-header\">\n                    <img src={logo} alt=\"Лого\"/>\n                </header>\n                <Main />\n            </div>\n        </div>\n    );\n}\nexport default App;\n","import {combineReducers} from \"redux\";\r\nimport {reducer as data} from \"./data/data\";\r\nimport NameSpace from \"./name-space.js\";\r\n\r\nexport default combineReducers({\r\n    [NameSpace.DATA]: data,\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {createStore, applyMiddleware} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport {createAPI} from \"./api/api\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport App from './components/App/App';\nimport reducer from \"./reducer/reducer\";\nimport {Operations} from \"./reducer/data/data\";\n\nconst api = createAPI();\n\nconst store = createStore(\n    reducer,\n    composeWithDevTools(\n        applyMiddleware(thunk.withExtraArgument(api))\n    ));\n\nstore.dispatch(Operations.loadTickets());\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.querySelector(`#root`)\n);\n","import axios from \"axios\";\r\n\r\nexport const createAPI = () => {\r\n    const api = axios.create({\r\n        baseURL: `https://front-test.beta.aviasales.ru`,\r\n        timeout: 1000 * 5,\r\n    });\r\n\r\n    const onSuccess = (response) => {\r\n        return response;\r\n    };\r\n\r\n    const onFail = (err) => {\r\n        throw err;\r\n    };\r\n\r\n    api.interceptors.response.use(onSuccess, onFail);\r\n\r\n    return api;\r\n};\r\n"],"sourceRoot":""}